<div 
  class="m-2 transition-transform duration-200 hover:-translate-y-0.5 hover:shadow-md"
  [ngClass]="{
    'opacity-80': !table.isActive,
    'cdk-drag-preview': false,
    'cdk-drag-animating': false, 
    'cdk-drag-placeholder': false
  }"
  cdkDrag
  [cdkDragData]="table">
  
  <p-card 
    class="cursor-move"
    [ngClass]="{
      'bg-gradient-to-br from-gray-100 to-gray-200 outline-dashed outline-2 outline-gray-400 outline-offset-[-2px] relative': !table.isActive
    }">
    
    <div class="flex justify-between items-center">
      <div>
        <h4 
          class="font-bold text-lg mb-1"
          [ngClass]="{
            'text-green-600': table.status === tableStatus.Available && table.isActive,
            'text-red-600': table.status === tableStatus.Occupied && table.isActive,
            'text-amber-600': table.status === tableStatus.Reserved && table.isActive,
            'text-blue-600': table.status === tableStatus.Cleaning && table.isActive,
            'text-gray-500': !table.isActive
          }">
          {{ table.tableNumber }}
        </h4>
        <p-badge 
          [value]="getStatusText(table.status!)" 
          [severity]="getStatusSeverity(table.status!)">
        </p-badge>
      </div>
      
      <div 
        class="flex items-center gap-2 opacity-70 hover:opacity-100 transition-opacity duration-200"
        [ngClass]="{ 'opacity-50': !table.isActive }">
        <p-button 
          [icon]="table.isActive ? 'pi pi-eye-slash' : 'pi pi-eye'" 
          size="small"
          [severity]="table.isActive ? 'warning' : 'success'"
          [text]="true"
          [pTooltip]="table.isActive ? 'Ẩn bàn' : 'Hiện bàn'"
          (click)="onToggleActiveClick()">
        </p-button>
        <p-button 
          icon="pi pi-pencil" 
          size="small"
          severity="info"
          [text]="true"
          pTooltip="Chỉnh sửa bàn"
          (click)="onEditClick()">
        </p-button>
        <p-button 
          icon="pi pi-trash" 
          size="small"
          severity="danger"
          [text]="true"
          pTooltip="Xóa bàn"
          (click)="onDeleteClick()">
        </p-button>
        <i class="pi pi-grip-horizontal text-gray-400 cursor-move text-xl"></i>
      </div>
    </div>
    
    <div 
      class="mt-2 text-sm"
      [ngClass]="table.isActive ? 'text-gray-600' : 'text-gray-500'">
      <span>Vị trí: {{ table.displayOrder }}</span>
      <span class="ml-3">
        <i [class]="table.isActive ? 'pi pi-check-circle text-green-500' : 'pi pi-times-circle text-red-500'"></i>
        {{ table.isActive ? 'Đang hoạt động' : 'Đã ẩn' }}
      </span>
    </div>
  </p-card>
</div>